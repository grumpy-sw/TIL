2022.02.28 TIL

## ✏️ Live Session
- 클래스와 구조체의 공통점과 차이점
- 싱글톤 디자인 패턴이란?

## ✏️ 구조체와 클래스
__공통점__
- 값을 저장할 프로퍼티를 선언할 수 있다.
- 함수적 기능을 하는 메소드를 선언할 수 있다.
- 내부 값에 .을 사용하여 접근할 수 있다.
- 생성자를 사용해 초기 상태를 설정할 수 있다.
- ```extension```을 사용하여 기능을 확장할 수 있다.
- 프로토콜을 채택하여 기능을 사용할 수 있다.

__클래스__
- 참조 타입이다.
- 참조 카운팅을 사용한다.
- 클래스 인스턴스를 생성 후 여러 개의 변수에 할당한 뒤 값을 변경하면 모든 변수에 영향을 준다.(인스턴스 생성 시 메모리에 값을 저장하고 변수는 메모리 주소를 갖고 있음)
- 상속이 가능하다.
- 타입 캐스팅
- deinit으로 메모리 할당 해제를 제어할 수 있다.

__구조체__
- 값 타입이다.
- 구조체 변수를 할당할 때마다 새로운 구조체가 할당된다.(구조체 인스턴스를 생성하고 변수에 할당할 때마다 값을 복사해서 할당한다.)

- 참조 카운팅(Reference Counting) : 나를 참조하고 있는 수가 몇인지. reference count가 0이 되는 순간 메모리 할당 해제
- deinit : 메모리에서 해제되는 순간 실행할 동작 정의


## ✏️ 싱글톤 디자인 패턴
객체의 인스턴스가 오직 1개만 생성되도록 프로그램을 짜는 패턴.
```swift
class Singleton {
    static let instance = Singleton()
    
    private Singleton() {
        // 생성자를 외부에서 호출하지 못하게 private으로 지정한다.
    }
}
```
- 싱글톤 패턴의 장점
    - 한 번 생성된 객체의 고정된 메모리 영역을 사용하기 때문에 메모리 낭비를 방지할 수 있다.
    - 싱글톤으로 만들어진 클래스의 인스턴스는 전역 인스턴스이기 때문에 다른 클래스의 인스턴스와 데이터를 공유하기 쉽다.
    - 이미 생성된 인스턴스를 사용하기 때문에 속도가 빠르다.
- 싱글톤 패턴의 단점
    - 싱글톤 인스턴스가 너무 많은 기능을 포함하거나, 너무 많은 데이터를 공유할 경우 결합도가 높아진다.
    - 멀티쓰레드 환경에서 사용하기 어려워진다.

- Q1) why class? (왜 클래스만 허용될까?)

- Q2) why static? (왜 static 키워드를 붙여야 할까?)