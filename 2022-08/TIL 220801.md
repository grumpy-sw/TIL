2022.08.01 TIL

### Quick? - The Swift (and Objective-C) testing framework.
> Quick is a behavior-driven development framework for Swift and Objective-C. Inspired by RSpec, Specta, and Ginkgo.

Quickì€ í…ŒìŠ¤íŠ¸ë¥¼ ë„ì™€ì£¼ëŠ” í”„ë ˆì„ì›Œí¬ì…ë‹ˆë‹¤. BDD(Behavior-Driven Development. í–‰ìœ„ ì£¼ë„ ê°œë°œ?) í”„ë ˆì„ì›Œí¬ë¼ê³  í•˜ë„¤ìš”. ì •ë§ ê³ ë§™ê²Œë„ [í•œêµ­ì–´ ê°€ì´ë“œ](https://github.com/Quick/Quick/tree/main/Documentation/ko-kr)ê°€ ì¡´ì¬í•©ë‹ˆë‹¤!

### Nimble
[Quick github](https://github.com/Quick) í˜ì´ì§€ë¥¼ ë“¤ì–´ê°€ë‹ˆ Quick ì™¸ì—ë„ Nimbleì„ ì œê³µí•©ë‹ˆë‹¤. 
> A Matcher Framework for Swift and Objective-C
Nimbleì€ Matcher Frameworkë¼ê³  í•˜ëŠ”ë°ìš”, ì¢€ ë” ìì„¸í•œ ì„¤ëª…ì„ ë³´ê² ìŠµë‹ˆë‹¤.
> Quick comes together with Nimble â€” a matcher framework for your tests. You can learn why XCTAssert() statements make your expectations unclear and how to fix that using Nimble assertions here.

Nimbleì€ Quickê³¼ í•¨ê»˜ ì œê³µë˜ë©°, `XCTAssert()`ë¬¸ì˜ ê²°ê³¼ì— ëŒ€í•œ ë¶ˆë¶„ëª…í•œ ì´ìœ ì— ëŒ€í•´ì„œ `Nimble Assertion`ì„ í†µí•´ ì™œ ì‹¤íŒ¨í–ˆëŠ”ì§€, ì–´ë–»ê²Œ ê³ ì¹˜ë©´ ì¢‹ì„ì§€ ê·¸ëŸ° ê²ƒë“¤ì„ ì œê³µí•œë‹¤ëŠ” ë§ì¸ ê²ƒ ê°™ìŠµë‹ˆë‹¤.. í ... ì•„ì§ ë¬´ìŠ¨ë§ì¸ì§€ ì˜ ëª¨ë¥´ê² ëŠ”ë°... ì‚¬ìš© ì˜ˆì‹œë¥¼ í†µí•´ í™•ì¸í•´ë³´ì£ ğŸ˜‚

### Unit Test
ì¼ë‹¨ ê¸°ì¡´ ìœ ë‹› í…ŒìŠ¤íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ìƒê²¼ìŠµë‹ˆë‹¤.

<img width="614" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-08-02 á„‹á…©á„’á…® 10 03 03" src="https://user-images.githubusercontent.com/63997044/182381370-e3263329-7abf-4ad6-a055-7e486a2c1f47.png">

- Given / When / Thenìœ¼ë¡œ ì‚¬ìš©ì ìŠ¤í† ë¦¬ë¥¼ ë‚˜ëˆ•ë‹ˆë‹¤.
    - Given: í•„ìš”í•œ í™˜ê²½(value ë“±) ì…‹íŒ…
    - When: í…ŒìŠ¤íŠ¸ ëŒ€ìƒ ì‹¤í–‰
    - Then: í…ŒìŠ¤íŠ¸ ê²°ê³¼ í™•ì¸

### Quickìœ¼ë¡œ í•´ë³´ëŠ” Unit Test

#### í”„ë ˆì„ì›Œí¬ ì¶”ê°€
ì˜¤í”ˆì†ŒìŠ¤ì´ê¸° ë•Œë¬¸ì— í”„ë¡œì íŠ¸ì— ì¶”ê°€í•´ì£¼ì–´ì•¼ê² ì£ . ì €ëŠ” ì½”ì½”ì•„íŒŸìœ¼ë¡œ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.
```
# Uncomment the next line to define a global platform for your project
# platform :ios, '9.0'

target 'Calculator' do
  # Comment the next line if you don't want to use dynamic frameworks
  use_frameworks!

  # Pods for Calculator

  target 'CalculatorItemQueueTests' do
    inherit! :search_paths
    # Pods for testing
    pod 'Quick'
    pod 'Nimble'
  end
end
```
Quickê³¼ Nimbleì„ ì¶”ê°€í•´ì¤ì‹œë‹¤! ì£¼ì˜í•˜ì‹¤ ì ì€ 'Pods for testing'ì—ë‹¤ê°€ ì¶”ê°€í•´ì•¼ í•´ìš”. ë°”ê¹¥ì—ë‹¤ í•˜ë©´ í…ŒìŠ¤íŠ¸ì—ì„œ ì¸ì‹ ëª»í•©ë‹ˆë‹¤ ã… ã… 


#### í…ŒìŠ¤íŠ¸ ì‘ì„±
ì´ì œ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•´ë´…ì‹œë‹¤.
ì¼ë‹¨ QuickSpecì„ ìƒì†í•œ í´ë˜ìŠ¤ë¥¼ ë§Œë“¤ê³ , `spec()`ë©”ì„œë“œë¥¼ overrideí•©ë‹ˆë‹¤.
<img width="512" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-08-02 á„‹á…©á„’á…® 10 17 39" src="https://user-images.githubusercontent.com/63997044/182384157-c2947713-1bfe-4393-9485-4bb08da0cb14.png">
```swift
class CalculatorItemQueueSpec: QuickSpec {
    override func spec() {
        
    }
}
```

`spec()`ë©”ì„œë“œ ë‚´ë¶€ì— í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•´ì£¼ë©´ ë˜ëŠ”ë°ìš”, ìœ„ì—ì„œ Unit TestëŠ” Given/When/Then ìœ¼ë¡œ ìŠ¤í† ë¦¬ë¥¼ ë‚˜ëˆˆë‹¤ê³  ì„¤ëª…í–ˆìŠµë‹ˆë‹¤. QuickSpecì—ì„œë„ ë§ˆì°¬ê°€ì§€ì¸ë° ì´ë¦„ì´ ì¡°ê¸ˆ ë‹¬ë¼ìš”.
- Describe: Givenì— í•´ë‹¹í•˜ëŠ” ê²ƒìœ¼ë¡œ, ì–´ë–¤ í™˜ê²½ì¸ì§€ë¥¼ ì •ì˜í•©ë‹ˆë‹¤.
```swift
class CalculatorItemQueueSpec: QuickSpec {
    override func spec() {
        describe("ì‚¬ìš©ìê°€ Queueë¥¼ ì‚¬ìš©í•œë‹¤.") {

        }
    }
}
```
Describeì—ëŠ” í˜„ì¬ ì–´ë–¤ ìƒí™©ì¸ì§€ë¥¼ ì •ì˜í•©ë‹ˆë‹¤. ìš°ë¦¬ëŠ” Queueë¥¼ í…ŒìŠ¤íŠ¸í•  ê²ƒì´ê¸° ë•Œë¬¸ì—, Queueë¥¼ ì‚¬ìš©í•˜ê³  ìˆë‹¤ê³  ì •ì˜í•œ ê²ƒì´ì£ . ê·¸ëŸ°ë° ì´ë ‡ê²Œë§Œ í•˜ë©´ Givenì—ì„œ í•˜ëŠ” ì¼ì¸ í•„ìš”í•œ í™˜ê²½ ì…‹íŒ…ì„ í•  ìˆ˜ê°€ ì—†ì£ . ì´ë•Œ beforeEachë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

- BeforeEach: í…ŒìŠ¤íŠ¸ê°€ ì‹¤í–‰ë˜ê¸° ì „ì— ë¯¸ë¦¬ í•„ìš”í•œ ê°’ë“¤ì„ ì…‹íŒ…í•©ë‹ˆë‹¤.
```swift
class CalculatorItemQueueSpec: QuickSpec {
    var queue: CalculatorItemQueue<Int>()?
    override func spec() {
        describe("ì‚¬ìš©ìê°€ Queueë¥¼ ì‚¬ìš©í•œë‹¤.") {
            beforeEach {
                self.queue = CalculatorItemQueue<Int>()
                self.queue?.enqueue(element: 1)
                self.queue?.enqueue(element: 2)
                self.queue?.enqueue(element: 3)
            }
        }
    }
}
```
queueë¥¼ ì´ˆê¸°í™”í•˜ê³  ì•ˆì— 1, 2, 3ì„ ìˆœì„œëŒ€ë¡œ ì‚½ì…í•˜ì˜€ìŠµë‹ˆë‹¤.

- Context: Whenì— í•´ë‹¹í•˜ëŠ” ê²ƒìœ¼ë¡œ ì–´ë–¤ í–‰ìœ„ê°€ ì¼ì–´ë‚ ì§€ ì •ì˜í•©ë‹ˆë‹¤.
```swift
class CalculatorItemQueueSpec: QuickSpec {
    var queue: CalculatorItemQueue<Int>()?
    override func spec() {
        describe("ì‚¬ìš©ìê°€ Queueë¥¼ ì‚¬ìš©í•œë‹¤.") {
            beforeEach {
                self.queue = CalculatorItemQueue<Int>()
                self.queue?.enqueue(element: 1)
                self.queue?.enqueue(element: 2)
                self.queue?.enqueue(element: 3)
            }
            context("íì— dequeueë¥¼ ì„¸ ë²ˆ ìˆ˜í–‰í•œë‹¤.") {

            }
        }
    }
}
```

- it: Thenì— í•´ë‹¹í•˜ëŠ” ê²ƒìœ¼ë¡œ ì˜ˆìƒë˜ëŠ” ê²°ê³¼ë¥¼ ì •ì˜í•˜ëŠ” ë¶€ë¶„ì…ë‹ˆë‹¤.
```swift
class CalculatorItemQueueSpec: QuickSpec {
    var queue: CalculatorItemQueue<Int>()?
    override func spec() {
        describe("ì‚¬ìš©ìê°€ Queueë¥¼ ì‚¬ìš©í•œë‹¤.") {
            beforeEach {
                self.queue = CalculatorItemQueue<Int>()
                self.queue?.enqueue(element: 1)
                self.queue?.enqueue(element: 2)
                self.queue?.enqueue(element: 3)
            }
            context("íì— dequeueë¥¼ ì„¸ ë²ˆ ìˆ˜í–‰í•œë‹¤.") {
                it("ìˆœì„œëŒ€ë¡œ 1, 2, 3ì´ ê²°ê³¼ë¡œ ì¶œë ¥ë˜ì–´ì•¼ í•œë‹¤.") {

                }

            }
        }
    }
}
```

- Assertion
ì´ì œ itêµ¬ë¬¸ ë‚´ë¶€ì— Assertionì„ ì‘ì„±í•˜ë©´ ë í…ë° ì´ ë•Œ Nimbleì„ ì‚¬ìš©í•©ë‹ˆë‹¤.
Nimbleì€ `expect()`ë©”ì„œë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. `expect(í…ŒìŠ¤íŠ¸ê²°ê³¼).to(equal(ì˜ˆìƒê²°ê³¼ê°’))` ì´ëŸ° ë°©ì‹ìœ¼ë¡œ ì‚¬ìš©í•´ìš”.
```swift
class CalculatorItemQueueSpec: QuickSpec {
    var queue: CalculatorItemQueue<Int>()?
    override func spec() {
        describe("ì‚¬ìš©ìê°€ Queueë¥¼ ì‚¬ìš©í•œë‹¤.") {
            beforeEach {
                ...
            }
            context("íì— dequeueë¥¼ ì„¸ ë²ˆ ìˆ˜í–‰í•œë‹¤.") {
                it("ìˆœì„œëŒ€ë¡œ 1, 2, 3ì´ ê²°ê³¼ë¡œ ì¶œë ¥ë˜ì–´ì•¼ í•œë‹¤.") {
                    expect(self.queue?.dequeue()).to(equal(1))
                    expect(self.queue?.dequeue()).to(equal(2))
                    expect(self.queue?.dequeue()).to(equal(3))
                }
            }
        }
    }
}
```
ê°„ë‹¨í•˜ê²Œ ê²°ê³¼ ë¹„êµí•˜ë„ë¡ ì‘ì„±í•´ì£¼ë©´~
<img width="736" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2022-08-02 á„‹á…©á„’á…® 10 55 21" src="https://user-images.githubusercontent.com/63997044/182392278-875df34a-1c7a-4105-b53e-0adc201188ff.png">

í…ŒìŠ¤íŠ¸ ì„±ê³µ!!!
Nimbleì— ëŒ€í•´ì„œëŠ” ë”°ë¡œ ê³µë¶€í•´ì„œ ë‹¤ìŒì— ë‹¤ì‹œ ì‘ì„±í•˜ë„ë¡ í•˜ê² ìŠµë‹ˆë‹¤ :)