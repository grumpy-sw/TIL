2022.03.21 TIL

### ğŸ“Œ Live Session
- Debugging
í”„ë¡œê·¸ë¨ ê°œë°œ ë‹¨ê³„ ì¤‘ì— ë°œìƒí•˜ëŠ” ì‹œìŠ¤í…œì˜ ë…¼ë¦¬ì ì¸ ì˜¤ë¥˜ë‚˜ ë¹„ì •ìƒì  ì—°ì‚°ì„ ì°¾ì•„ë‚´ê³  ê·¸ ì›ì¸ì„ ë°íˆê³  ìˆ˜ì •í•˜ëŠ” ì‘ì—… ê³¼ì •
- Compile
ì›ì‹œì½”ë“œë¥¼ ëª©ì ì½”ë“œ(ê¸°ê³„ì–´)ë¡œ ë°”ê¿”ì£¼ëŠ” ê³¼ì •
- Build
ì†ŒìŠ¤ ì½”ë“œë¥¼ ì‹¤í–‰ê°€ëŠ¥í•œ í”„ë¡œê·¸ë¨ìœ¼ë¡œ ë§Œë“œëŠ” ê³¼ì •
- í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì˜ ë¶„ë¥˜
    - ì»´íŒŒì¼ ì–¸ì–´: C, C++, go + (Swift)
    í†µë²ˆì—­. ì‹¤í–‰ì†ë„ê°€ ë§¤ìš° ë¹ ë¥´ë‹¤. ë¹Œë“œí•˜ëŠ”ë° ì‹œê°„ì´ ì˜¤ë˜ ê±¸ë¦°ë‹¤. í•œ ë²ˆ ë°°í¬ë˜ë©´ ìˆ˜ì •í•˜ê¸°ê°€ ì–´ë µë‹¤. ì—…ë°ì´íŠ¸ê°€ í˜ë“¤ë‹¤.
    - ë°”ì´íŠ¸ì½”ë“œ ì–¸ì–´: Java, C#
    - ì¸í„°í”„ë¦¬í„° ì–¸ì–´: BASIC, JavaScript, Python
    ë°°í¬ê°€ ë§¤ìš° ì‰½ë‹¤. ì›¹ ì‚¬ì´íŠ¸ì—ì„œ ì£¼ë¡œ ì‚¬ìš©

- LLDB
LLVMì˜ ë””ë²„ê¹… ë„êµ¬

### ğŸ“Œ LLDB(Low Level Debugger) - BreakPoint
BreakPoint ë§Œë“¤ê¸°
- breakpoint set opt arg
- (br s opt arg)

íŠ¹ì • í•¨ìˆ˜ ì´ë¦„ì— BreakPoint ê±¸ê¸°
- ```breakpoint set --name viewDidLoad```
- ```b -n viewDidLoad```

íŒŒì¼ì˜ ì´ë¦„ê³¼ line ë²ˆí˜¸ë¥¼ ì´ìš©í•´ BreakPoint ê±¸ê¸°
- ```breakpoint set --file ViewController.swift --line 20```

breakpointì— ì›í•˜ëŠ” ì¡°ê±´ì„ ê±¸ê¸°(```-c```). condition ì´í•˜ì˜ ì¡°ê±´ì´ trueì¸ ê²½ìš°ì—ë§Œ breakpointì—ì„œ ë©ˆì¶˜ë‹¤.
- ```breakpoint set --name "viewWillAppear" -- condition animated```

breakì‹œ ì›í•˜ëŠ” lldb Command ì‹¤í–‰(```-C```)
- ```breakpoint set -n "viewDidLoad" --command "po $arg1" -G1```
- (```br s - "viewDidLoad" -C "po $arg1" -G1```)

breakpoint ëª©ë¡ ë° ì •ë³´ ê´€ë ¨ ëª…ë ¹ì–´(hit count í™•ì¸ ê°€ëŠ¥: BreakPointì§€ì ì´ ëª‡ ë²ˆ í˜¸ì¶œë˜ì—ˆëŠ”ê°€)
- ```breakpoint list```
- ```br list -b```
- ```br list [id]```

breakpoint ì‚­ì œ or ë¹„í™œì„±í™”
- ```breakpoint delete``` == ```br de```
- ```br de 1``` 1ì´ë¼ëŠ” breakpoint ì‚­ì œ
- ```breakpoint disable``` == ```br di``` breakpoint ì „ì²´ ë¹„í™œì„±í™”
- ```br di 1.1```

Stepping Over: í˜„ì¬ ì§€ì ì—ì„œ ë‹¤ìŒ êµ¬ë¬¸ìœ¼ë¡œ ë„˜ì–´ê°€ëŠ” ê²ƒ. ë‹¨ì¶•í‚¤ ```n```
Stepping In: Stepping Overì™€ ë¹„ìŠ·í•˜ì§€ë§Œ, í•¨ìˆ˜ì˜ ì‹œì‘ ë¶€ë¶„ìœ¼ë¡œ ë„˜ì–´ê°€ëŠ” ê²ƒ. ë‹¨ì¶•í‚¤ ```s```
Stepping Out: í˜„ì¬ ì§„í–‰ì¤‘ì¸ í•¨ìˆ˜ê°€ ëë‚  ë•Œê¹Œì§€ ì§„í–‰í•œ í›„ breakë¥¼ ê±¸ì–´ì£¼ëŠ” ê²ƒ. ë‹¨ì¶•í‚¤ ```finish```

### ğŸ“Œ Expression
- po
ê°ì²´ì˜ ë‹¤ì–‘í•œ ì •ë³´ë¥¼ Consoleì— ì¶œë ¥í•˜ëŠ” ì»¤ë§¨ë“œ.
```po``` == ```expression -0```
- expression
ì¶œë ¥ì„ í•˜ê±°ë‚˜, ê°’ì„ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.
ë‚´ë¶€ì ìœ¼ë¡œ ì¶œë ¥ë˜ëŠ” ê°’ì„ ```$R0, $R1, $R2,...``` í˜•íƒœë¡œ ì €ì¥í•œë‹¤.
ë³€ìˆ˜ì— ê°’ì„ í• ë‹¹í•˜ëŠ” ë°©ë²•: ```expression let $someNumber = 10```
---
* __Multi-Line Expression__
```expression```ì„ ì…ë ¥í•˜ê³  Enterë¥¼ ëˆ„ë¥´ë©´ ì´ì–´ì„œ ì—¬ëŸ¬ ì¤„ì„ ì…ë ¥í•  ìˆ˜ ìˆë‹¤.

* __```--ignore-breakpoints```__ ì˜µì…˜
expression ì‹¤í–‰ ì¤‘ ë§Œë‚˜ëŠ” breakpointë¥¼ ignoreí• ì§€ ì—¬ë¶€ë¥¼ ì„ íƒí•˜ëŠ” ì˜µì…˜(defaultëŠ” trueì„)
```
#  ì‹¤í–‰ ë„ì¤‘ breakpointë¥¼ ë§Œë‚˜ë„ ê·¸ëƒ¥ ì§„í–‰
(lldb) expression --ignore-breakpoints true --
(lldb) ex -i 1 --
#  ì‹¤í–‰ ë„ì¤‘ breakpointë¥¼ ë§Œë‚˜ë©´ ë©ˆì¶¤
(lldb) expression --ignore-breakpoints false --
(lldb) ex -i 0 --  
```
* __ì£¼ì†Œê°’ ì´ìš©í•´ì„œ ë³€ìˆ˜ ì‚¬ìš©í•˜ê¸°__
ê°ì²´ì˜ íƒ€ì…ê³¼ ì£¼ì†Œê°’ë§Œ ì•Œê³  ìˆëŠ” ê²½ìš° í•´ë‹¹ ë³€ìˆ˜ì˜ ì •ë³´ë¥¼ ì½ì–´ì˜¤ê³  ì‹¶ì„ ë•Œ, ```unsafeBitCast(to:)``` í•¨ìˆ˜ ì‚¬ìš©
    - expr -l swift -- var $myLabel = unsafeBitCast(0x7..., to: UILabel.self)
    
    //ì¶œë ¥
    expr -l swift -- $myLabel