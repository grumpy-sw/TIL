2022.03.29 TIL

### 📌 App의 Life Cycle 관리하기
앱의 상태가 변경될 때 UIKit은 적절한 delegate object의 메서드를 호출하여 사용자에게 상태 변경을 알려준다.
- iOS 13 이상:
    `UISceneDelegate`를 사용하여 **Scene-Based** 앱의 생명 주기 이벤트에 응답한다. 
- iOS 12 이하:
    `UIApplicationDelegate`를 사용하여 **App-Based** 생명 주기 이벤트에 응답한다.


**App-Based Life Cycle(iOS 12 이하)**

![](https://docs-assets.developer.apple.com/published/e6ac158845/app-state~dark@2x.png)

App Delegate는 앱의 모든 window를 관리.

앱이 가질 수 있는 상태는 다음과 같다.
1) Not Running
- 앱이 실행중이 아닌 상태
2) Inactive
- 앱이 실행 중이지만 이벤트를 받고 있지 않은 상태.
- 예를 들어 화면이 덮어져서 앱이 실질적으로 이벤트를 받지 못하는 상태 포함.
3) Active
- 앱이 포어그라운드에서 실행 중이고 이벤트를 수신하는 상태
4) Background
- 앱이 백그라운드 상태에서 동작하고 있는 상태.
- 백그라운드 상태의 앱은 시스템에 의해 Suspended 상태가 될 수 있음.
5) Suspended
- 백그라운드에서 활동을 멈춘 상태. 메모리에는 남아 있지만 메모리가 부족한 경우 특별한 알림 없이 강제종료할 수 있음.

앱의 생명 주기 간 동작 관계

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2F3AE5g%2FbtqTlHsHrns%2Fzugp2diaU123WjgLomaXt0%2Fimg.png)


---

**Scene-Based Life-Cycle(iOS 13 이상)**

![](https://docs-assets.developer.apple.com/published/8e113a7266/scene-state~dark@2x.png)

앱이 가질 수 있는 상태는 다음과 같다.
1) Unattached
- scene이 만들어졌지만 아직 화면에 보이기 전의 상태.
2) Foreground Inactive
- 앱이 포어그라운드에서 실행 중이지만, 이벤트를 받지 않는 상태
3) Foreground Active
- 앱이 포어그라운드에서 실행 중이면서 이벤트를 수신하는 상태
4) Background
- 앱이 백그라운드 상태에서 동작하고 있는 상태.
- 백그라운드 상태의 앱은 시스템에 의해 Suspended 상태가 될 수 있음.
5) Suspended
- 백그라운드에서 활동을 멈춘 상태. 메모리에는 남아 있지만 메모리가 부족한 경우 특별한 알림 없이 강제종료할 수 있음.
